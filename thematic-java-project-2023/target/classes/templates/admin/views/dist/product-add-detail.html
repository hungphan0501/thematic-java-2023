<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Thêm sản phẩm mới | Dragon Spor </title>
    <link rel="shortcut icon" th:href="@{/assets/images/logo.png}"/>

    <!-- Favicon-->


    <link rel="stylesheet" type="text/css" th:href="@{/assets/plugin/datatables/responsive.dataTables.min.css}"
          href="assets/plugin/datatables/responsive.dataTables.min.css">
    <!-- Datatable Css -->
    <link rel="stylesheet" type="text/css" th:href="@{/assets/plugin/datatables/dataTables.bootstrap5.min.css}"
          href="assets/plugin/datatables/dataTables.bootstrap5.min.css">
    <!-- Datatable Css -->

    <!-- Project css file  -->
    <link rel="stylesheet" type="text/css" th:href="@{/assets/css/ebazar.style.min.css}"
          href="assets/css/ebazar.style.min.css">

    <link rel="stylesheet" type="text/css"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css    ">
    <style>
        #result {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            padding: 10px 0;
        }

        .thumbnail {
            height: 150px;
        }
        .btn-hover:hover{
            background: #5b27ff;
        }
    </style>
</head>


<body style="background: #ededed">
<div id="ebazar-layout" class="theme-blue">

    <!-- sidebar -->
    <div class="sidebar px-4 py-4 py-md-4 me-0">
        <div class="d-flex flex-column h-100">
            <a href="index.html" class="mb-0 brand-icon">

                <span class="logo-text">Dragon Sport</span>
            </a>
            <!-- Menu: main ul -->
            <ul class="menu-list flex-grow-1 mt-3">
                <li><a class="m-link" th:href="@{/admin/dashboard}"><i class="fas fa-home" style="margin: 0 10px;"></i>
                    <span>Trang chủ</span></a></li>
                <li class="collapsed">
                    <a class="m-link active" data-bs-toggle="collapse" data-bs-target="#menu-product" href="#">
                        <i class="fas fa-shopping-cart" style="margin: 0 10px;"></i> <span>Sản phẩm</span> </a>
                    <!-- Menu: Sub menu ul -->
                    <ul class="sub-menu collapse" id="menu-product">

                        <li><a class="ms-link" th:href="@{/products-manage}">Chỉnh sửa sản phẩm</a></li>
                        <li><a class="ms-link active" th:href="@{/products-manage/product/add}">Thêm sản phẩm</a></li>

                    </ul>
                </li>

                <li class="collapsed">
                    <a class="m-link" th:href="@{/products-manage}">
                        <i class="fab fa-intercom" style="margin: 0 10px;"></i> <span>Danh sách sản phẩm</span> </a>


                </li>
                <li class="collapsed">
                    <a class="m-link" th:href="@{/users-manage}">
                        <i class="fas fa-user-alt" style="margin: 0 10px;"></i> <span>Khách hàng</span> </a>

                </li>
                <li class="collapsed ">
                    <a class="m-link " th:href="@{/logout}">
                        <i class="fa-solid fa-right-from-bracket" style="margin: 0 10px;"></i> <span>Đăng xuất</span> </a>

                </li>

            </ul>
            <!-- Menu: menu collepce btn -->
            <button type="button" class="btn btn-link sidebar-mini-btn text-light">
                <span class="ms-2"><i class="fas fa-dot-circle"></i></span>
            </button>
        </div>
    </div>


    <!-- main body area -->
    <div class="main px-lg-4 px-md-4">

        <!-- Body: Header -->


        <!-- Body: Body -->
        <div class="body d-flex py-3" style="margin-top: 25px; background: white; padding: 0 20px;border-radius: 18px">

            <div class="container-xxl" style="height: 678px;">
                <h3 class="fw-bold mb-0">Tạo chi tiết sản phẩm</h3>
                <form th:action="@{/products-manage/add/productDetail/{idProduct} (idProduct=${idProduct})}" method="POST">
                    <button class="btn btn-hover btn-primary btn-set-task w-sm-100 py-2 px-5 text-uppercase" style="z-index: 10000;position: absolute;margin: 590px 515px 0; font-weight: bold" type="submit"> Lưu</button>

                    <div class="row g-3 mb-3">
                        <div class="col-xl-4 col-lg-4">
                            <div class="sticky-lg-top">

                                <div class="card mb-3">
                                    <div class="card-header py-3 d-flex justify-content-between align-items-center bg-transparent border-bottom-0">
                                        <h6 class="m-0 fw-bold" style="width:  100px;">Màu sắc</h6>
                                        <input class="form-control" type="text" id="color" name="color" required>
                                    </div>

                                </div>
                                <div class="card mb-3">
                                    <div class="card-header py-3 d-flex justify-content-between align-items-center bg-transparent border-bottom-0">
                                        <h6 class="m-0 fw-bold" style="width:  100px;">Size</h6>
                                        <select class="form-control" name="size" id="size" required>
                                            <option value="36">Size 36</option>
                                            <option value="37">Size 37</option>
                                            <option value="38">Size 38</option>
                                            <option value="39">Size 39</option>
                                            <option value="40">Size 40</option>
                                            <option value="41">Size 41</option>
                                            <option value="42">Size 42</option>
                                            <option value="43">Size 43</option>
                                        </select>
                                    </div>

                                </div>
                                <div class="card mb-3">
                                    <div class="card-header py-3 d-flex justify-content-between align-items-center bg-transparent border-bottom-0">
                                        <h6 class="m-0 fw-bold">Tổng số lượng</h6>
                                    </div>
                                    <div style="padding:0 10px  10px">
                                        <input type="number" id="quantity" name="quantity" class="form-control" min="1"
                                               required>
                                    </div>
                                </div>
                                <div class="card mb-3">
                                    <div class="card-header py-3 d-flex justify-content-between align-items-center bg-transparent border-bottom-0">
                                        <h6 class="m-0 fw-bold">Ngày công bố</h6>
                                    </div>
                                    <div class="card-body">
                                        <div class="row g-3 align-items-center">
                                            <div class="col-md-12">
                                                <label class="form-label">Ngày</label>
                                                <input type="date" class="form-control w-100" name="createAt"
                                                        required>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xl-8 col-lg-8">
                            <div class="card mb-3">
                                <div class="card-header py-3 d-flex justify-content-between align-items-center bg-transparent border-bottom-0">
                                    <h6 class="m-0 fw-bold" style="width:  150px;margin-top: 70px;">ID sản phẩm</h6>
<!--                                    <input class="form-control" type="text" id="idProduct" name="idProduct"-->
<!--                                           value="10000012" readonly th:value="${productDetail.getIdProduct()}">-->
                                    <input class="form-control" type="text" id="idProduct" name="idProduct"
                                           value="10000012" readonly th:value="${idProduct}">
                                </div>
                            </div>
                            <div class="card mb-3" style="height: 430px">

                                <div class="card-header py-3 d-flex justify-content-between bg-transparent border-bottom-0"
                                     style="padding-bottom: 0px!important;">
                                    <h6 class="mb-0 fw-bold ">Hình ảnh</h6>
                                </div>
                                <div class="card-body">
                                    <form>
                                        <div class="row g-3 align-items-center">
                                            <div class="col-md-12" style="margin-top: 10px;">
                                                <small class="d-block text-muted mb-2">Chỉ hình ảnh dọc hoặc hình vuông,
                                                    chiều cao tối đa 2M và tối đa 2000px.</small>
                                                <!--                                                <input type="file" id="input-file-to-destroy" class="dropify" multiple>-->
                                                <label for="files">Chọn nhiều ảnh</label>
                                                <input id="files" type="file" multiple="multiple"
                                                       accept="image/jpeg, image/png, image/jpg">
                                                <output id="result"></output>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>

                </form>
            </div>
        </div>


    </div>

</div>

<!-- Jquery Core Js -->
<script type="text/javascript" th:src="@{/assets/bundles/libscripts.bundle.js}"
        src="assets/bundles/libscripts.bundle.js"></script>

<!-- Jquery Page Js -->
<script>
    $(document).ready(function () {
        //Ch-editer
        ClassicEditor
            .create(document.querySelector('#editor'))
            .catch(error => {
                console.error(error);
            });
        //Datatable
        $('#myCartTable')
            .addClass('nowrap')
            .dataTable({
                responsive: true,
                columnDefs: [{
                    targets: [-1, -3],
                    className: 'dt-body-right'
                }]
            });
        $('.deleterow').on('click', function () {
            var tablename = $(this).closest('table').DataTable();
            tablename
                .row($(this)
                    .parents('tr'))
                .remove()
                .draw();

        });
        //Multiselect
        $('#optgroup').multiSelect({
            selectableOptgroup: true
        });
    });

    $(function () {
        $('.dropify').dropify();

        var drEvent = $('#dropify-event').dropify();
        drEvent.on('dropify.beforeClear', function (event, element) {
            return confirm("Do you really want to delete \"" + element.file.name + "\" ?");
        });

        drEvent.on('dropify.afterClear', function (event, element) {
            alert('File deleted');
        });

        $('.dropify-fr').dropify({
            messages: {
                default: 'Glissez-dÃ©posez un fichier ici ou cliquez',
                replace: 'Glissez-dÃ©posez un fichier ou cliquez pour remplacer',
                remove: 'Supprimer',
                error: 'DÃ©solÃ©, le fichier trop volumineux'
            }
        });
    });
</script>
<script>
    document.querySelector("#files").addEventListener("change", (e) => { //CHANGE EVENT FOR UPLOADING PHOTOS
        if (window.File && window.FileReader && window.FileList && window.Blob) { //CHECK IF FILE API IS SUPPORTED
            const files = e.target.files; //FILE LIST OBJECT CONTAINING UPLOADED FILES
            const output = document.querySelector("#result");
            output.innerHTML = "";
            for (let i = 0; i < files.length; i++) { // LOOP THROUGH THE FILE LIST OBJECT
                if (!files[i].type.match("image")) continue; // ONLY PHOTOS (SKIP CURRENT ITERATION IF NOT A PHOTO)
                const picReader = new FileReader(); // RETRIEVE DATA URI
                picReader.addEventListener("load", function (event) { // LOAD EVENT FOR DISPLAYING PHOTOS
                    const picFile = event.target;
                    const div = document.createElement("div");
                    div.innerHTML = `<img class="thumbnail" src="${picFile.result}" title="${picFile.name}"/>`;
                    output.appendChild(div);
                });
                picReader.readAsDataURL(files[i]); //READ THE IMAGE
            }
        } else {
            alert("Your browser does not support File API");
        }
    });
</script>
<script src="../js/template.js"></script>

</body>


</html>